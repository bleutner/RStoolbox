<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Supervised Classification — superClass • RStoolbox</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Supervised Classification — superClass"><meta name="description" content="Supervised classification both for classification and regression mode based on vector training data (points or polygons)."><meta property="og:description" content="Supervised classification both for classification and regression mode based on vector training data (points or polygons)."><meta property="og:image" content="https://bleutner.github.io/RStoolbox/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RStoolbox</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://www.github.com/bleutner"><span class="fa fa-github fa-lg fab"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Supervised Classification</h1>
      <small class="dont-index">Source: <a href="https://github.com/bleutner/RStoolbox/blob/master/R/superClass.R" class="external-link"><code>R/superClass.R</code></a></small>
      <div class="d-none name"><code>superClass.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Supervised classification both for classification and regression mode based on vector training data (points or polygons).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">superClass</span><span class="op">(</span></span>
<span>  <span class="va">img</span>,</span>
<span>  <span class="va">trainData</span>,</span>
<span>  valData <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  responseCol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nSamples <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  nSamplesV <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  polygonBasedCV <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  trainPartition <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rf"</span>,</span>
<span>  tuneLength <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  kfold <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  minDist <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"classification"</span>,</span>
<span>  predict <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  predType <span class="op">=</span> <span class="st">"raw"</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">verbose</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-img">img<a class="anchor" aria-label="anchor" href="#arg-img"></a></dt>
<dd><p>SpatRaster. Typically remote sensing imagery, which is to be classified.</p></dd>


<dt id="arg-traindata">trainData<a class="anchor" aria-label="anchor" href="#arg-traindata"></a></dt>
<dd><p>sf or sp spatial vector data containing the training locations (POINTs,or POLYGONs).</p></dd>


<dt id="arg-valdata">valData<a class="anchor" aria-label="anchor" href="#arg-valdata"></a></dt>
<dd><p>Ssf or sp spatial vector data containing the validation locations (POINTs,or POLYGONs) (optional).</p></dd>


<dt id="arg-responsecol">responseCol<a class="anchor" aria-label="anchor" href="#arg-responsecol"></a></dt>
<dd><p>Character or integer giving the column in <code>trainData</code>, which contains the response variable. Can be omitted, when <code>trainData</code> has only one column.</p></dd>


<dt id="arg-nsamples">nSamples<a class="anchor" aria-label="anchor" href="#arg-nsamples"></a></dt>
<dd><p>Integer. Number of samples per land cover class. If <code>NULL</code> all pixels covered by training polygons are used (memory intensive!). Ignored if trainData consists of POINTs.</p></dd>


<dt id="arg-nsamplesv">nSamplesV<a class="anchor" aria-label="anchor" href="#arg-nsamplesv"></a></dt>
<dd><p>Integer. Number of validation samples per land cover class. If <code>NULL</code> all pixels covered by validation polygons are used (memory intensive!). Ignored if valData consists of POINTs.</p></dd>


<dt id="arg-polygonbasedcv">polygonBasedCV<a class="anchor" aria-label="anchor" href="#arg-polygonbasedcv"></a></dt>
<dd><p>Logical. If <code>TRUE</code> model tuning during cross-validation is conducted on a per-polygon basis. Use this to deal with overfitting issues. Does not affect training data supplied as SpatialPointsDataFrames.</p></dd>


<dt id="arg-trainpartition">trainPartition<a class="anchor" aria-label="anchor" href="#arg-trainpartition"></a></dt>
<dd><p>Numeric. Partition (polygon based) of <code>trainData</code> that goes into the training data set between zero and one. Ignored if <code>valData</code> is provided.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Character. Which model to use. See <a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a> for options. Defaults to randomForest ('rf'). In addition to the standard caret models, a maximum likelihood classification is available via <code>model = 'mlc'</code>.</p></dd>


<dt id="arg-tunelength">tuneLength<a class="anchor" aria-label="anchor" href="#arg-tunelength"></a></dt>
<dd><p>Integer. Number of levels for each tuning parameter (see <a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a> for details).</p></dd>


<dt id="arg-kfold">kfold<a class="anchor" aria-label="anchor" href="#arg-kfold"></a></dt>
<dd><p>Integer. Number of cross-validation resamples during model tuning.</p></dd>


<dt id="arg-mindist">minDist<a class="anchor" aria-label="anchor" href="#arg-mindist"></a></dt>
<dd><p>Numeric. Minumum distance between training and validation data,
 e.g. <code>minDist=1</code> clips validation polygons to ensure a minimal distance of one pixel (pixel size according to <code>img</code>) to the next training polygon.
Requires all data to carry valid projection information.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character. Model type: 'regression' or 'classification'.</p></dd>


<dt id="arg-predict">predict<a class="anchor" aria-label="anchor" href="#arg-predict"></a></dt>
<dd><p>Logical. Produce a map (TRUE, default) or only fit and validate the model (FALSE).</p></dd>


<dt id="arg-predtype">predType<a class="anchor" aria-label="anchor" href="#arg-predtype"></a></dt>
<dd><p>Character. Type of the final output raster. Either "raw" for class predictions or "prob" for class probabilities. Class probabilities are not available for all classification models (<a href="https://rdrr.io/pkg/caret/man/predict.train.html" class="external-link">predict.train</a>).</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>Path to output file (optional). If <code>NULL</code>, standard raster handling will apply, i.e. storage either in memory or in the raster temp directory.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical. prints progress and statistics during execution</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>logical. Overwrite spatial prediction raster if it already exists.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments to be passed to <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A superClass object (effectively a list) containing:</p><ol><li><p>$model: the fitted model</p></li>
<li><p>$modelFit: model fit statistics</p></li>
<li><p>$training: indexes of samples used for training</p></li>
<li><p>$validation: list of</p><ol><li><p>$performance: performance estimates based on independent validation (confusion matrix etc.)</p></li>
<li><p>$validationSamples: actual pixel coordinates plus reference and predicted values used for validation</p></li>
<li><p>$validationGeometry: validation polygpns (clipped with mindist to training geometries)</p></li>
</ol></li>
<li><p>$map: the predicted raster</p></li>
<li><p>$classMapping: a data.frame containing an integer &lt;-&gt; label mapping</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that superClass automatically loads the lattice and randomForest package.
SuperClass performs the following steps:</p>
<ol><li><p>Ensure non-overlap between training and validation data. This is neccesary to avoid biased performance estimates.
 A minimum distance (<code>minDist</code>) in pixels can be provided to enforce a given distance between training and validation data.</p></li>
<li><p>Sample training coordinates. If <code>trainData</code> (and <code>valData</code> if present) are polygons <code>superClass</code> will calculate the area per polygon and sample
<code>nSamples</code> locations per class within these polygons. The number of samples per individual polygon scales with the polygon area, i.e. the bigger the polygon, the more samples.</p></li>
<li><p>Split training/validation
If <code>valData</code> was provided (reccomended) the samples from these polygons will be held-out and not used for model fitting but only for validation.
If <code>trainPartition</code> is provided the trainingPolygons will be divided into training polygons and validation polygons.</p></li>
<li><p>Extract raster data
The predictor values on the sample pixels are extracted from <code>img</code></p></li>
<li><p>Fit the model. Using caret::train on the sampled training data the <code>model</code> will be fit,
including parameter tuning (<code>tuneLength</code>) in <code>kfold</code> cross-validation. <code>polygonBasedCV=TRUE</code> will define cross-validation folds based on polygons (reccomended)
otherwise it will be performed on a per-pixel basis.</p></li>
<li><p>Predict the classes of all pixels in <code>img</code> based on the final model.</p></li>
<li><p>Validate the model with the independent validation data.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bleutner.github.io/RStoolbox/">RStoolbox</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/" class="external-link">caret</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.stat.berkeley.edu/~breiman/RandomForests/" class="external-link">randomForest</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> randomForest 4.7-1.2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Type rfNews() to see new features/changes/bug fixes.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘randomForest’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:gridExtra’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     combine</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:ggplot2’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     margin</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">e1071</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘e1071’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:terra’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     interpolate</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/serialize.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"external/trainingPoints_rlogo.rds"</span>, package<span class="op">=</span><span class="st">"RStoolbox"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plot training data</span></span></span>
<span class="r-in"><span><span class="va">olpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># back-up par</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yellow"</span>, <span class="st">"green"</span>, <span class="st">"deeppink"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plotRGB.html" class="external-link">plotRGB</a></span><span class="op">(</span><span class="va">rlogo</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">train</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, col <span class="op">=</span>  <span class="va">colors</span><span class="op">[</span><span class="va">train</span><span class="op">$</span><span class="va">class</span><span class="op">]</span>, pch <span class="op">=</span> <span class="fl">19</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Fit classifier (splitting training into 70\% training data, 30\% validation data)</span></span></span>
<span class="r-in"><span><span class="va">SC</span>       <span class="op">&lt;-</span> <span class="fu">superClass</span><span class="op">(</span><span class="va">rlogo</span>, trainData <span class="op">=</span> <span class="va">train</span>, responseCol <span class="op">=</span> <span class="st">"class"</span>,</span></span>
<span class="r-in"><span>model <span class="op">=</span> <span class="st">"rf"</span>, tuneLength <span class="op">=</span> <span class="fl">1</span>, trainPartition <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 09:47:06 | Begin sampling training data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 09:47:06 | Starting to fit model</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 09:47:06 | Starting spatial predict</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 09:47:06 | Begin validation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ******************** Model summary ********************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Random Forest </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 samples</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3 predictor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3 classes: 'A', 'B', 'C' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No pre-processing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Resampling: Cross-Validated (5 fold) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of sample sizes: 16, 16, 18, 17, 17 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Resampling results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Accuracy  Kappa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1         1    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tuning parameter 'mtry' was held constant at a value of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TrainAccuracy TrainKappa method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1          1     rf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cross-Validated (5 fold) Confusion Matrix </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (entries are average cell counts across resamples)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Reference</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction   A   B   C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          A 1.4 0.0 0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          B 0.0 1.4 0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          C 0.0 0.0 1.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Accuracy (average) : 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ******************** Validation summary ********************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Confusion Matrix and Statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Reference</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction A B C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          A 3 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          B 0 3 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          C 0 0 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Accuracy : 1          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  95% CI : (0.6637, 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     No Information Rate : 0.3333     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     P-Value [Acc &gt; NIR] : 5.081e-05  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   Kappa : 1          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mcnemar's Test P-Value : NA         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Statistics by Class:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      Class: A Class: B Class: C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sensitivity            1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Specificity            1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pos Pred Value         1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Neg Pred Value         1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prevalence             0.3333   0.3333   0.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Detection Rate         0.3333   0.3333   0.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Detection Prevalence   0.3333   0.3333   0.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Balanced Accuracy      1.0000   1.0000   1.0000</span>
<span class="r-in"><span><span class="va">SC</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> superClass results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ************ Validation **************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Confusion Matrix and Statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Reference</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction A B C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          A 3 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          B 0 3 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          C 0 0 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Accuracy : 1          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  95% CI : (0.6637, 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     No Information Rate : 0.3333     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     P-Value [Acc &gt; NIR] : 5.081e-05  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   Kappa : 1          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mcnemar's Test P-Value : NA         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Statistics by Class:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      Class: A Class: B Class: C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sensitivity            1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Specificity            1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pos Pred Value         1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Neg Pred Value         1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prevalence             0.3333   0.3333   0.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Detection Rate         0.3333   0.3333   0.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Detection Prevalence   0.3333   0.3333   0.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Balanced Accuracy      1.0000   1.0000   1.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *************** Map ******************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $map</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class       : SpatRaster </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dimensions  : 77, 101, 1  (nrow, ncol, nlyr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> resolution  : 1, 1  (x, y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extent      : 0, 101, 0, 77  (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coord. ref. : +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> source(s)   : memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name        : class_supervised </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> min value   :                1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> max value   :                3 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plots</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">SC</span><span class="op">$</span><span class="va">map</span>, col <span class="op">=</span> <span class="va">colors</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, box <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/factors.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">class</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">colors</span> , title <span class="op">=</span> <span class="st">"Classes"</span>, </span></span>
<span class="r-in"><span>horiz <span class="op">=</span> <span class="cn">TRUE</span>,  bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="superClass-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">olpar</span><span class="op">)</span> <span class="co"># reset par</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Leutner, Ned Horning, Jakob Schwalb-Willmann, Konstantin Mueller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

